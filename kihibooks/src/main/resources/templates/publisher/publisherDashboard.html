<!DOCTYPE html>
<html
xmlns:th="http://www.thymeleaf.org"
xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
layout:decorate="~{layout/layout.html}">
<head>
<meta charset="UTF-8">
<title>KiHiBooks - ì¶œíŒì‚¬ ëŒ€ì‹œë³´ë“œ</title>

<style>
	.publisher-dashboard {
		font-family: 'Arial', sans-serif;
		background-color: #f4f7f6;
		color: #333;
		padding: 30px;
		border-radius: 8px;
		box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
		margin-top: 20px;
		margin-bottom: 20px;
	}
	.publisher-dashboard h1,
	.publisher-dashboard h2 {
		color: #2c3e50;
		margin-bottom: 20px;
		border-bottom: 2px solid #ff7f50;
		padding-bottom: 10px;
	}
	.publisher-dashboard .dashboard-summary {
		display: flex;
		gap: 20px;
		margin-bottom: 30px;
		flex-wrap: wrap;
	}
	.publisher-dashboard .summary-card {
		flex: 1;
		background-color: #ecf0f1;
		padding: 20px;
		border-radius: 8px;
		text-align: center;
		min-width: 150px;
		transition: transform 0.2s ease-in-out;
		cursor: pointer;
	}
	.publisher-dashboard .summary-card:hover {
		transform: translateY(-5px);
		box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
	}
	.publisher-dashboard .summary-card .card-title {
		font-size: 1em;
		color: #7f8c8d;
		margin-bottom: 10px;
	}
	.publisher-dashboard .summary-card .card-value {
		font-size: 2em;
		font-weight: bold;
		color: #ff7f50;
	}
	.publisher-dashboard .dashboard-links {
		margin-bottom: 30px;
	}
	.publisher-dashboard .dashboard-links h2 {
		margin-top: 0;
	}
	.publisher-dashboard .link-buttons {
		display: flex;
		gap: 15px;
		flex-wrap: wrap;
	}
	.publisher-dashboard .link-button {
		display: inline-block;
		background-color: #ff7f50;
		color: white;
		padding: 10px 20px;
		border-radius: 5px;
		text-decoration: none;
		font-size: 1em;
		transition: background-color 0.2s ease-in-out;
	}
	.publisher-dashboard .link-button:hover {
		background-color: #ff6347;
	}
	.publisher-dashboard .recent-activity {
		margin-bottom: 30px;
	}
	.publisher-dashboard .recent-activity h2 {
		margin-top: 0;
	}
	.publisher-dashboard .activity-list {
		background-color: white;
		padding: 20px;
		border-radius: 8px;
		box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
	}
	.publisher-dashboard .activity-item {
		padding: 10px 0;
		border-bottom: 1px solid #eee;
	}
	.publisher-dashboard .activity-item:last-child {
		border-bottom: none;
	}
	.container {
		max-width: 1200px;
		margin: 0 auto;
		padding: 0 20px;
	}
	@media (max-width: 800px) {
		.container {
			padding: 0;
		}
	}
	main {
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
	}

</style>
</head>
<body >
	<main layout:fragment="content" class="container">
		<div class="publisher-dashboard">
			<div class="d-flex justify-content-between">
				<h1>ğŸ“Š ì¶œíŒì‚¬ ëŒ€ì‹œë³´ë“œ</h1>
				<p th:text="${#authentication.principal.authority}"></p>
			</div>
			<div class="dashboard-summary">
				<div class="summary-card" th:if="${#authentication.principal.authority == 'SUPER'}">
					<div class="card-title">ì´ ì—ë””í„° ìˆ˜</div>
					<div class="card-value" th:text="${editorCount}"></div>
				</div>
				<div class="summary-card">
					<div class="card-title">ì´ ë“±ë¡ ë„ì„œ ìˆ˜</div>
					<div class="card-value" th:text="${totalBookCount}"></div>
				</div>
				<th:block th:if="${#authentication.principal.authority == 'EDITOR'}">
					<div class="summary-card">
						<div class="card-title">ë‚´ê°€ ë“±ë¡í•œ ë„ì„œ</div>
						<div class="card-value" th:text="${editorsBookCount}"></div>
					</div>
				</th:block>
				<div class="summary-card">
					<div class="card-title">ì—°ì¬ ì¤‘ ë„ì„œ</div>
					<div class="card-value" th:text="${totalPublishingCount}">0</div>
				</div>
				<div class="summary-card">
					<div class="card-title">ì™„ê²° ë„ì„œ</div>
					<div class="card-value" th:text="${totalCompletedCount}">0</div>
				</div>
			</div>
			<div class="dashboard-links">
				<h2>ğŸš€ ë°”ë¡œê°€ê¸°</h2>
				<div class="link-buttons">
					<th:block th:if="${#authentication.principal.authority == 'SUPER'}">
						<a th:href="@{/publisher/editors}" class="link-button">ì—ë””í„° ê´€ë¦¬</a>
					</th:block>
					<th:block th:if="${#authentication.principal.authority == 'SUPER'}">
						<a th:href="@{/publisher/manageEditorsBook/{pu_code}(pu_code = ${#authentication.principal.pu_code})}" class="link-button">ë„ì„œ ë‹´ë‹¹ ì—ë””í„° ì„¤ì •</a>
					</th:block>
					<th:block th:if="${#authentication.principal.authority == 'EDITOR'}">
						<a th:href="@{/editor/myContent}" class="link-button">ë‚´ ì½˜í…ì¸  ê´€ë¦¬</a>
					</th:block>
					<a th:href="@{/account/modify}" class="link-button">ê³„ì • ì„¤ì •</a>
				</div>
			</div>
			<div class="recent-activity">
				<h2>â³ ìµœê·¼ ë“±ë¡ ë„ì„œ</h2>
				<div class="activity-list">
					<div class="activity-item">ì œëª©: íŒíƒ€ì§€ ì†Œì„¤ 1í™” ë“±ë¡ ì™„ë£Œ (2023-10-27)</div>
					<div class="activity-item">ì œëª©: ë¡œë§¨ìŠ¤ ì›¹íˆ° í‘œì§€ ìˆ˜ì • (2023-10-26)</div>
					<div class="activity-item">ì œëª©: ì¶”ë¦¬ ì†Œì„¤ ì‹ ê·œ ë“±ë¡ (2023-10-25)</div>
					<div th:if="${recentBooks == null or #lists.isEmpty(recentBooks)}" class="activity-item">
						ìµœê·¼ ë“±ë¡ëœ ë„ì„œê°€ ì—†ìŠµë‹ˆë‹¤.
					</div>
				</div>
			</div>
		</div>
	</main>
</body>
</html>
