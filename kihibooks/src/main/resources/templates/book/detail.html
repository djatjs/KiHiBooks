<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout.html}">

<head>
	<meta charset="UTF-8">
	<title>KiHiBooks</title>
	<style>
		.page-detail {
			width: 1170px;
			padding: 0;
			box-sizing: border-box;
			margin: 0 auto;
			border-top: none;
		}

		.detail-wrap {
			display: flex;
			width: 100%;

		}

		.detail-content {
			width: 100%;
			background: #fff;
			display: table-cell;
			vertical-align: top;
			min-width: 0;
		}

		.detail {
			padding-bottom: 20px;
			font-size: 16px;
			overflow-wrap: break-word;
			word-break: break-word;
			line-height: normal;
			color: black;
			font-weight: 400;
		}

		.grid-left-top1 {
			color: #666;
			font-size: 12px;
			line-height: 1em;
			margin: 0;
			padding: 0;
			cursor: default;
			font-weight: 400;
		}

		.grid-left-top2 {
			font-size: 14px;
			overflow-wrap: break-word;
			word-break: break-word;
			line-height: normal;
			margin: 0;
			padding: 0;
			color: black;
		}

		.grid-left-top3 {
			padding: 0 30px;
			box-sizing: border-box;
			margin: 0;
		}

		.grid-left-top4 {
			display: grid;
			grid-template: 'left right' auto
				'left bottom' auto/fit-content(30%) 1fr;
			column-gap: 30px;
			margin-bottom: 60px !important;
			padding-top: 30px;
		}

		.thumb-grid {
			min-width: 0;
			grid-area: left;
			box-sizing: border-box;
		}

		.thumb {
			cursor: zoom-in;
			position: relative;
			width: 204px;
			max-width: 100%;
			border-radius: 4px;
			padding: 0;
			border: 1px solid;
		}

		.thumb-img {
			width: 100%;
			height: auto;
			background: #f5f5f5;
		}

		.info-grid {
			min-width: 0;
			grid-area: right;
			box-sizing: border-box;
		}

		.category {
			overflow: hidden;
			box-sizing: border-box;
		}

		.cate-title a {
			color: #555;
			font-size: 14px;
			font-weight: 600;
		}

		.cate-title a:hover {
			text-decoration: none;
			color: #8a8a8a;
		}

		.cate-ul {
			display: flex;
			align-items: center;
			list-style: none;
			flex-wrap: wrap;
			margin-top: -3px;
			margin-left: -17px;
			margin-bottom: 0;
		}

		.cate-li {
			display: flex;
			align-items: flex-start;
		}

		.book-title {
			color: #141414;
			font-size: 32px;
			font-weight: 700;
			line-height: 38px;
			margin: 12px 0;
			margin-left: 20px;
		}

		.rating-content {
			overflow: hidden;
			box-sizing: border-box;
		}

		.rating-ul {
			list-style: none;
			display: flex;
			align-items: center;
			flex-wrap: wrap;
			margin: 0;
			margin-left: -17px;
			margin-top: -6px;
			margin-bottom: 3px;
		}

		.rating-li {
			margin-top: 6px;
			display: flex;
			align-items: center;
			flex: 0 0 auto;
			box-sizing: border-box;
		}

		.total-rating {
			display: flex;
			align-items: center;
			font-size: 15px;
			line-height: 18px;
			font-weight: 700;
			cursor: pointer;
			appearance: none;
			background: none;
			box-shadow: none;
			border: 0;
			margin: 0;
			padding: 0;
		}

		.red,
		.red-star {
			filter: brightness(0) saturate(100%) invert(16%) sepia(98%) saturate(2874%) hue-rotate(-5deg) brightness(92%) contrast(95%);
		}

		.gray {
			filter: brightness(0) saturate(100%) invert(90%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(100%) contrast(100%);
		}

		.orange {
			filter: brightness(0) saturate(100%) invert(38%) sepia(95%) saturate(750%) hue-rotate(-5deg) brightness(115%) contrast(110%);
		}

		.tomato {
			filter: brightness(0) saturate(100%) invert(60%) sepia(120%) saturate(200%) hue-rotate(320deg) contrast(90%)
		}

		.dark-gray {
			filter: brightness(0) saturate(100%) invert(56%) sepia(6%) saturate(275%) hue-rotate(6deg) brightness(95%) contrast(84%);
		}

		.rate-score {
			color: #DC3232;
		}

		.rate-cnt {
			color: #555;
			white-space: nowrap;
		}

		.like-li {
			display: flex;
			align-items: center;
			flex: 0 0 auto;
			font-size: 15px;
		}

		.like-li::before {
			content: '';
			display: inline-block;
			background: #e6e6e6;
			flex: 0 0 auto;
			height: 12px;
			margin: 0 5px;
			width: 1px;
			margin-top: 6px;
		}

		.likes {
			font-size: 15px;
			font-weight: 400;
			color: #555;
			align-items: center;
			margin-top: 5px;
		}

		.info-content {
			font-size: 15px;
			font-weight: 400;
			line-height: 18px;
			color: #555;
			margin: 0;
			padding: 0;
		}

		.author {
			overflow: hidden;
			margin: 0;
			padding: 0;
		}

		.author-ul {
			display: flex;
			list-style: none;
			margin-left: -17px;
			margin-bottom: 0;
		}

		.author-li {
			display: inline-flex;
			align-items: center;
			flex: 0 0 auto;
			flex-shrink: 0;
			line-height: 17px;
		}

		.author-name {
			font-weight: 600;
			transition: opacity 0.4s ease;
			cursor: pointer;
			color: #555;
		}

		.author-name:hover {
			text-decoration: none;
			color: #8a8a8a;
		}

		.publisher {
			padding: 0;
			margin: 0;
			margin-left: 22px;
			margin-top: 5px;
		}

		.publisher-link {
			font-weight: 600;
			color: #555;
			cursor: pointer;
		}

		.publisher-link:hover {
			text-decoration: none;
			color: #8a8a8a;
		}

		.total-episode {
			display: flex;
			margin-left: 22px;
			margin-top: 3px;
		}

		.interest-content {
			display: flex;
			margin: 0;
			padding: 0;
			margin-top: 16px;
			margin-left: 22px;
		}

		.interestBtn {
			display: flex;
			align-items: center;
			height: 34px;
			padding: 1px 10px 2px 10px;
			margin-right: 4px;
			border-radius: 30px;
			border: 1px solid #ff7f50;
			background: none;
			color: #ff7f50;
			font-weight: 600;
		}

		.plusBtn {
			margin-top: 2px;
		}

		.info-bottom-grid {
			display: grid;
			gap: 20px;
			margin: 0;
			padding: 0;
			padding-top: 20px;
			min-width: 0;
			grid-area: bottom;
			box-sizing: border-box;
		}

		.bottom-content {
			width: 100%;
			display: flex;
			flex-direction: column;
			min-width: 0;
			border-top: 1px solid #e6e6e6;
		}

		.bottom-content>div:not(:first-of-type) {
			padding-top: 8px;
			padding-bottom: 8px;
			border-top: 1px solid #e6e6e6;
		}

		.bottom-content>div:last-of-type {
			border-bottom: 1px solid #e6e6e6;
		}

		.content-area {
			padding-bottom: 8px;
			display: flex;
			align-items: flex-start;
			padding-top: 8px;
		}

		.header-text {
			margin-top: 2px;
			margin-bottom: 2px;
			margin-right: 16px;
			width: 40px;
			height: 19px;
			flex-shrink: 0;
			justify-content: center;
			display: flex;
			font-size: 11px;
			font-weight: 700;
			line-height: 13px;
			border-radius: 2px;
			align-items: center;
		}

		.serial-ul {
			list-style: none;
			width: 100%;
			flex: 1 1 auto;
			display: flex;
			flex-direction: column;
			margin: 0;
			padding: 0;
		}

		.serial-li {
			padding-bottom: 0;
			width: 100%;
			display: flex;
			align-items: flex-start;
			font-size: 15px;
			font-weight: 600;
			line-height: 23px;
			color: #141414;
		}

		.noti-ul {
			width: 100%;
			list-style: none;
			margin: 0;
			padding: 0;
			flex: 1 1 auto;
			display: flex;
			flex-direction: column;
		}

		.noti-li {
			padding-bottom: 8px;
			width: 100%;
			display: flex;
			align-items: flex-start;
			font-size: 15px;
			line-height: 23px;
			color: #141414;
		}

		.noti-contents {
			display: block;
			width: 100%;
			margin: 0;
			padding: 0;
		}

		.noti-title {
			display: flex;
			justify-content: space-between;
			margin: 0;
			padding: 0;
			align-items: center;
			position: relative;
			width: 100%;
			font-size: 15px;
			line-height: 23px;
			font-weight: 600;
			cursor: pointer;
			appearance: none;
			background: none;
			border: 0;
		}

		.noti-title:hover {
			color: #949494;
		}

		.expandBtn {
			filter: brightness(0) saturate(100%) invert(48%) sepia(0%) saturate(0%) hue-rotate(186deg) brightness(89%) contrast(88%);
		}

		.noti-content {
			overflow: hidden;
			height: auto;
			display: block;
			width: 100%;
			text-align: left;
			cursor: pointer;
			appearance: none;
			background: none;
			box-shadow: none;
			border: 0;
			margin: 0;
			padding: 0;
		}

		.content-wrapper {
			display: flex;
			flex-direction: column;
			gap: 10px;
			margin: 0;
			padding: 0;
		}

		.content-wrap {
			margin-top: 4px;
			font-size: 14px;
			font-weight: 400;
			line-height: 19px;
			color: #787878;
		}

		.wait-for-free {
			font-size: 15px;
			font-weight: 600;
			line-height: 23px;
			color: #141414;
			display: flex;
			margin: 0;
			padding: 0;
			align-items: center;
			flex: 1 0 auto;
			overflow-wrap: break-word;
			word-break: keep-all;
		}

		.infoBtn {
			cursor: pointer;
			user-select: none;
			appearance: none;
			background: none;
			border: 0;
			margin: 0;
			padding: 0;
		}

		.wff-state {
			flex: 0 0 auto;
		}

		.state-text {
			margin-left: auto;
			margin-right: 3px;
			font-size: 14px;
			font-weight: 600;
			line-height: 17px;
			color: #ff7f50;
		}

		.continue-btn {
			margin-top: 4px;
			display: flex;
			justify-content: flex-end;
		}

		.continueBtn {
			flex: 1 1 227px;
			max-width: 227px;
			height: 52px;
			display: flex;
			padding: 17px 10px 16px 10px;
			justify-content: center;
			align-items: center;
			border-radius: 6px;
			background: #ff7f50;
			color: #fff;
			text-align: center;
			font-size: 18px;
			font-weight: 600;
			line-height: 22px;
			white-space: nowrap;
			margin-right: 3px;
			transition: background 0.4s ease;
		}

		.continueBtn:hover {
			text-decoration: none;
			color: #fff;
			background: #f57343;
		}

		.meta-wrapper {
			font-size: 14px;
			overflow-wrap: break-word;
			word-break: break-word;
			line-height: normal;
			margin: 0;
			padding: 0;
			color: black;
		}

		.meta {
			display: grid;
			grid-template-columns: repeat(2, 1fr);
			row-gap: 10px;
			column-gap: 16px;
			padding: 24px;
			margin-bottom: 60px !important;
			border: 1px solid #e6e6e6;
			border-radius: 6px;
			background-color: #fafafa;
		}

		.m-wrap {
			display: flex;
			margin: 0;
			padding: 0;
		}

		.wrap-title {
			width: 100px;
			flex: 0 0 auto;
			font-size: 14px;
			font-weight: 600;
			line-height: 18px;
			color: #141414;
		}

		.wrap-date {
			font-size: 14px;
			font-weight: 400;
			line-height: 18px;
			color: #787878;
		}

		.episode-area {
			display: block;
			margin: 0;
			padding: 0;
			padding-bottom: 80px;
			color: #666;
			font-size: 12px;
			line-height: 1em;
		}

		.form-episode-list {
			margin: 0;
			padding: 0;
		}

		.epi-line {
			border-top: 2px solid #666;
			margin-left: 30px;
			margin-right: 30px;
			text-indent: -20000px;
			line-height: 1em;
		}

		.list-module {
			padding-bottom: 0;
			padding: 0 30px 70px 30px;
		}

		.option-wrap {
			display: table;
			width: 100%;
			padding: 10px 0;
			border-bottom: 1px dotted #bbb;
		}

		.option-left {
			margin: 0;
			padding: 0;
			padding-left: 10px;
			list-style: none;
			display: table-cell;
			vertical-align: middle;
		}

		.select-all-wrap {
			vertical-align: middle;
			display: inline-block;
		}

		.all-checkbox,
		.episode-check {
			width: 18px;
			height: 18px;
			border: 1px solid #c2bcb9;
			background-color: transparent;
			cursor: pointer;
			border-radius: 4px;
			margin-right: 3px;
		}

		.all-label {
			margin: 0;
			padding: 0;
			vertical-align: top;
			line-height: 18px;
			border: 0;
			outline: 0;
			cursor: pointer;
			display: inline-block;
			padding: 0 8px;
			position: relative;
			margin-right: 10px;
			color: #736963;
			font-size: 13px;
			font-weight: 700;
			height: 18px;
		}

		.option-item {
			vertical-align: middle;
			display: inline-block;
		}

		.sort-btn {
			margin: 0;
			padding: 0;
			padding: 8px 11px;
			appearance: none;
			outline: 0;
			text-decoration: none;
			box-sizing: border-box;
			border-radius: 4px;
			font-weight: 700;
			display: inline-block;
			text-align: center;
			cursor: pointer;
			vertical-align: baseline;
			color: #918580;
			background: #fff;
			border: 1px solid #d9d4d1;
		}

		.sort-btn:hover {
			background: #f5f5f5;
		}

		.option-right {
			margin: 0;
			padding: 0;
			padding-right: 20px;
			text-align: right;
			display: table-cell;
			vertical-align: middle;
			color: #666;
			font-size: 12px;
			line-height: 1em;
		}

		.right-ul {
			list-style: none;
			margin: 0;
			padding: 0;
		}

		.option-info {
			display: inline-block;
			line-height: 18px;
			padding-right: 5px;
			font-size: 12px;
			font-weight: 700;
			margin-top: 8px;
		}

		.oi-ul {
			list-style: none;
			display: inline-table;
			white-space: nowrap;
			margin: 0;
			padding: 0;
		}

		.btn-item {
			padding-left: 0;
			padding: 0 2px;
			display: table-cell;
			vertical-align: middle;
			margin: 0;
		}

		.cart-btn {
			padding: 8px 11px;
			margin: 0;
			appearance: none;
			outline: 0;
			text-decoration: none;
			box-sizing: border-box;
			border-radius: 4px;
			font-weight: 700;
			display: inline-block;
			text-align: center;
			cursor: pointer;
			line-height: 1em;
			vertical-align: baseline;
			color: #918480;
			background: #fff;
			border: 1px solid #d9d3d1;
			font-size: 12px;
		}

		.select-buy-btn {
			padding: 8px 11px;
			margin: 0;
			appearance: none;
			outline: 0;
			text-decoration: none;
			box-sizing: border-box;
			border-radius: 4px;
			font-weight: 700;
			display: inline-block;
			text-align: center;
			cursor: pointer;
			line-height: 1em;
			vertical-align: baseline;
			color: #ffffff;
			background: #ff7f50;
			border: 1px solid #ff7f50;
			font-size: 12px;
		}

		.list-wrapper {
			position: relative;
			margin: 0;
			padding: 0;
		}

		.list-ul {
			list-style: none;
			margin: 0;
			padding: 0;
		}

		.epi-list {
			padding: 0 10px;
			border-bottom: 1px solid #f5f3f2;
		}

		.epi-list-wrapper {
			overflow: visible;
			position: relative;
			display: flex;
			justify-content: space-between;
		}

		.table-wrap {
			border-bottom: none;
			display: table;
			width: 100%;
		}

		.epi-checkbox {
			vertical-align: middle;
			width: 28px;
			text-align: left;
			display: table-cell;
		}

		.epi-info {
			margin: 0;
			position: relative;
			vertical-align: middle;
			padding: 8px 26px 8px 0;
			display: table-cell;
		}

		.info-title-with-badge {
			margin: 0;
			padding: 0;
			margin-right: 5px;
			color: #000;
			font-size: 13px;
			line-height: 16px;
			font-weight: 700;
		}

		.badge-list {
			margin-right: 1px;
			float: left;
			display: block;
		}

		.badge {
			float: left;
			margin-right: 2px;
			display: block;
		}

		.epi-title {
			color: #000;
			font-size: 13px;
			line-height: 16px;
			font-weight: 700;
			margin-bottom: 8px;
		}

		.info-list-wrapper {
			list-style-type: none;
			margin: 0;
			padding: 0;
			display: flex;
		}

		.info-epi-date {
			padding-right: 3px;
			position: relative;
			margin-top: 4px;
		}

		.info-page-cnt {
			padding: 0 3px;
			position: relative;
		}

		.info-price {
			color: #ff7f50;
			font-weight: 700;
			font-size: 13px;
			margin: 0;
			margin-top: 6px;
		}

		.epi-label {
			position: absolute;
			width: 100%;
			height: 100%;
			top: 0;
			left: 0;
			vertical-align: middle;
			cursor: pointer;
			z-index: 3;
			transition: color .2x;
		}

		.epi-label:hover {
			color: #4d4440;
		}



		.direct-view-wrapper {
			vertical-align: middle;
			padding: 7px 10px;
			text-align: right;
			white-space: nowrap;
			display: table-cell;
		}

		.direct-view-btn {
			font-size: 13px;
			padding: 8px 14px;
			margin: 7px 0 7px 4px;
			position: relative;
			z-index: 5;
			color: #918580;
			box-sizing: border-box;
			border-radius: 4px;
			font-weight: 700;
			display: inline-block;
			text-align: center;
			cursor: pointer;
			background: #fff;
			border: 1px solid #d9d2d1;
		}

		.checkout-btn {
			font-size: 13px;
			padding: 8px 14px;
			margin: 7px 0 7px 4px;
			position: relative;
			z-index: 5;
			color: #fff;
			box-sizing: border-box;
			border-radius: 4px;
			font-weight: 700;
			display: inline-block;
			text-align: center;
			cursor: pointer;
			background: #ff7f50;
			border: 1px solid #ff6730;
		}

		.buy-book-btn {
			font-size: 13px;
			padding: 8px 14px;
			margin: 7px 0 7px 4px;
			position: relative;
			z-index: 5;
			color: #fff;
			box-sizing: border-box;
			border-radius: 4px;
			font-weight: 700;
			display: inline-block;
			text-align: center;
			cursor: pointer;
			background: #ff7f50;
			border: 1px solid #f57343;
		}

		.direct-view-btn:hover {
			text-decoration: none;
			color: #918580;
		}

		.checkout-btn:hover {
			text-decoration: none;
			color: #fff;
		}

		.buy-book-btn:hover {
			text-decoration: none;
			color: #fff;
		}

		.list-more-button {
			position: relative;
		}

		.list-more-button::before {
			content: '';
			display: block;
			position: absolute;
			width: 100%;
			height: 1px;
			background: #fff;
			top: -1px;
			left: 0;
			z-index: 1;
		}

		.more-button {
			padding: 16px 0 14px 0;
			width: 100%;
			height: 56px;
			display: flex;
			justify-content: center;
			align-items: center;
			position: relative;
			border-radius: 6px;
			border: 1px solid #ccc;
			margin-top: 0;
			background: #fff;
		}

		.more-button-text {
			display: flex;
			align-items: center;
			font-size: 16px;
			font-weight: 700;
			color: #141414;
			line-height: 16px;
		}

		.upper-wrapper {
			font-size: 14px;
			overflow-wrap: break-word;
			word-break: break-word;
			line-height: normal;
			margin: 0;
			padding: 0;
			color: #000;
			font-weight: 400;
		}

		.upper-wrap {
			padding: 0 30px;
			box-sizing: border-box;
		}

		.upper {
			display: grid;
			gap: 8px;
			margin-bottom: 80px;
			box-sizing: border-box;
		}

		.up-wrap {
			padding: 16px 20px;
			border: 1px solid #e6e6e6;
			background: #fafafa;
			font-size: 15px;
			line-height: 24px;
			text-align: left;
			border-radius: 4px;
		}

		.upper-text {
			color: #555;
			box-sizing: border-box;
		}

		.keyword-wrapper {
			font-size: 14px;
			overflow-wrap: break-word;
			word-break: break-word;
			line-height: normal;
			margin: 0;
			padding: 0;
			color: #fff;
			font-weight: 400;
		}

		.keyword-wrap {
			padding: 0 30px;
		}

		.keyword-title {
			display: flex;
			align-items: center;
			color: #141414;
			font-size: 22px;
			font-weight: 700;
			line-height: 26px;
			padding-top: 6px;
			padding-bottom: 16px;
		}

		.keyword-list {
			display: flex;
			flex-wrap: wrap;
			margin: -3px;
			padding-bottom: 16px;
		}

		.keyword {
			padding: 3px;
		}

		.keyword-btn {
			background: #f0f0f0;
			border-radius: 4px;
			padding: 8px 10px;
			color: #141414;
			cursor: pointer;
			appearance: none;
			box-shadow: none;
			border: 0;
			margin: 0;
		}

		.keyword-name {
			position: relative;
			display: flex;
			font-size: 15px;
			font-weight: 600;
			line-height: 18px;
		}

		.other-keyword {
			display: inline-flex;
			align-items: center;
			justify-content: center;
			border: 1px solid #ccc;
			border-radius: 4px;
			padding: 8px 9px 8px 13px;
		}

		.other-kw {
			color: #787878;
			font-size: 16px;
			font-weight: 700;
			line-height: 18px;
		}

		.other-keyword:hover {
			text-decoration: none;
		}

		.description-wrapper {
			font-size: 14px;
			overflow-wrap: break-word;
			word-break: break-word;
			line-height: normal;
			margin: 0;
			padding: 0;
			color: #000;
			font-weight: 400;
		}

		.description-wrap {
			padding: 0 30px;
		}

		.d-book-title {
			color: #141414;
			font-size: 20px;
			font-weight: 500;
			padding: 6px 0 3px;
		}

		.wrapper-title {
			color: #141414;
			font-size: 22px;
			font-weight: 700;
			line-height: 26px;
			padding-top: 6px;
			padding-bottom: 16px;
		}

		.descript-wrapper {
			position: relative;
			color: #555;
			font-size: 15px;
			font-weight: 400;
			line-height: 23px;
			text-align: left;
		}

		.descript-wrap {
			position: relative;
			max-height: none;
			padding: 0px;
			overflow: hidden;
			font-size: 15px;
			font-weight: 400;
			line-height: 24px;
			text-align: left;
			color: rgb(85, 85, 85);
		}

		.descript-wrap::after {
			content: '';
			position: absolute;
			bottom: 0px;
			left: 0px;
			right: 0px;
			height: 216px;
			user-select: none;
			pointer-events: none;
			background: none;
		}

		.author-wrapper {
			font-size: 14px;
			overflow-wrap: break-word;
			word-break: break-word;
			line-height: normal;
			margin: 0;
			padding: 0;
			color: #000;
			font-weight: 400;
		}

		.author-wrap {
			padding: 0 30px;
		}

		.au-wrapper {
			display: flex;
			flex-direction: column;
		}

		.au-wrap {
			display: flex;
			flex-wrap: wrap;
			align-items: center;
			row-gap: 8px;
			margin-bottom: 16px;
		}

		.au-name {
			display: flex;
			align-items: flex-end;
			max-width: 100%;
			flex-wrap: wrap;
			gap: 4px;
			margin-right: 10px;
		}

		.au-name-text {
			font-size: 22px;
			line-height: 26px;
			font-weight: 700;
			flex-shrink: 0;
			color: #141414;
		}

		.au-name:hover {
			text-decoration: none;
		}

		.au-profile {
			margin-bottom: 0px;
			display: flex;
			color: #555;
			font-size: 15px;
			line-height: 18px;
			font-weight: 400;
		}

		.profile-text {
			display: inline-block;
			color: #a5a5a5;
			min-width: 26px;
			font-weight: 600;
			flex: 0 0 auto;
			margin-right: 20px;
		}

		.au-profile-text {
			display: inline-block;
		}

		.au-text {
			margin-bottom: 8px;
			display: block;
		}

		.au-update {
			display: flex;
			justify-content: flex-end;
			align-items: center;
			padding: 12px 0;
			border-bottom: 1px solid #f0f0f0;
			font-weight: 400;
			font-size: 14px;
			line-height: 17px;
			color: #787878;
		}

		.au-update-date {
			color: #a5a5a5;
		}

		.au-other-book {
			padding-top: 16px;
		}

		.au-other-book-title {
			display: flex;
			justify-content: space-between;
			padding: 7px 0 11px;
			font-weight: 700;
			font-size: 18px;
			line-height: 21px;
			columns: #141414;
		}

		.au-other-more {
			font-size: 16px;
			font-weight: 500;
			line-height: 19px;
			color: #a5a5a5;
		}

		.au-other-more:hover {
			text-decoration: none;
			color: #a5a5a5;
		}

		.other-book-list {
			position: relative;
			width: 100%;
		}

		.book-list {
			display: flex;
			flex-wrap: nowrap;
			overflow: hidden;
		}

		.books {
			display: flex;
			flex: 1 0 auto;
		}

		.books-ul {
			display: flex;
			list-style: none;
			margin: 0;
			padding: 0;
		}

		.book-li {
			width: 141px;
			min-height: 298px;
			flex: 0 0 auto;
			margin-right: 6px;
		}

		.book {
			position: relative;
			display: flex;
			flex-direction: column;
			align-items: flex-start;
		}

		.book-img {
			position: relative;
			align-items: stretch;
			width: 100%;
			padding-bottom: 144.80519480519482%;
		}

		.bo-img {
			border-radius: 4px;
			overflow: hidden;
			display: flex;
			flex-direction: column;
			position: absolute;
			bottom: 0;
			left: 0;
			right: 0;
			max-height: 100%;
			cursor: pointer;
		}

		.bo-image {
			position: relative;
			width: 100%;
			padding-bottom: 144.80519480519482%;
			inset: 0;
			border-radius: 4px;
			outline: 1px solid rgba(0, 0, 0, 0.04);
			outline-offset: -1px;
			background: rgba(0, 0, 0, 0.04);
		}

		.book-info {
			margin-top: 10px;
			min-height: 84px;
			padding-right: 10px;
			width: 100%;
		}

		.bo-title {
			display: inline-flex;
		}

		.b-title {
			display: -webkit-box;
			overflow: hidden;
			text-overflow: ellipsis;
			word-wrap: break-word;
			white-space: normal;
			max-height: clac(19px * 2);
			line-height: 19px;
			font-size: 16px;
			word-break: break-all;
			color: #141414;
			font-weight: 500;
		}

		.b-title:hover {
			text-decoration: none;
			color: #141414;
		}

		.book-author {
			display: flex;
			flex-direction: column;
		}

		.bo-author {
			margin-top: 6px;
			font-size: 14px;
			line-height: 17px;
			display: block;
			color: #787878;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
			overflow-wrap: break-word;
		}

		.b-author {
			color: #787878;
		}

		.b-author:hover {
			color: #b8b8b8;
			text-decoration: none;
		}

		.bo-rating {
			margin-top: 7px;
			font-size: 13px;
			line-height: 16px;
			display: flex;
			align-items: center;
			color: #dc3232;
			overflow-wrap: break-word;
		}

		.b-rating-cnt {
			margin-left: 1px;
			color: #787878;
		}

		.book-click {
			display: none;
			position: absolute;
			inset: 0;
			text-decoration: none;
		}

		.review-wrapper {
			font-size: 14px;
			overflow-wrap: break-word;
			word-break: break-word;
			line-height: normal;
			margin: 0;
			padding: 0;
			color: #000;
			font-weight: 400;
		}

		.review-wrap {
			padding: 0 30px;
		}

		.rv-wrapper {
			width: 100%;
			margin: 80px 0;
			color: #141414;
		}

		.rv-overview {
			display: flex;
			padding: 8px 0 15px;
			justify-content: space-between;
			align-items: center;
		}

		.rv-rating {
			display: flex;
			align-items: center;
		}

		.rv-rating-text {
			color: #000;
			font-size: 48px;
			font-weight: 600;
			line-height: 57px;
		}

		.rv-rating-img {
			display: grid;
			gap: 4px;
			align-items: center;
			margin-left: 12px;
			margin-bottom: 8px;
		}

		.rating-img-text {
			font-size: 15px;
			font-weight: 700;
			line-height: 17px;
		}

		.rating-star {
			display: flex;
		}

		.rating-star>img {
			margin-right: 4px;
		}

		.rv-rating-cnt {
			display: grid;
			justify-content: end;
			gap: 4px;
			color: #787878;
			text-align: right;
			font-size: 15px;
			line-height: 18px;
		}

		.rating-cnt {
			font-weight: 500;
			cursor: default;
		}

		.rating-bunpo {
			display: flex;
			align-items: center;
			position: relative;
			cursor: pointer;
			user-select: none;
		}

		.bunpo-check {
			display: none;
		}

		.bunpo-text {
			font-weight: 600;
		}

		.none {
			display: none;
		}

		.bunpo-table {
			pointer-events: none;
			opacity: 1;
			position: absolute;
			top: calc(100% + 6px);
			right: 0;
			z-index: 10;
			background: #fff;
			border: 1px solid #ccc;
			border-radius: 4px;
			color: #787878;
			cursor: default;
			font-size: 12px;
			font-weight: 600;
			line-height: 14px;
			transition: opacity 0.3s;
			user-select: text;
			cursor: default;
		}

		.rate-bunpo {
			display: grid;
			grid-template-columns: 9px 1fr;
			align-items: center;
			gap: 6px 10px;
			padding: 12px 16px;
			text-align: center;
		}

		.bunpo {
			width: 72px;
			height: 6px;
			background: #e6e6e6;
			border-radius: 999px;
			overflow: hidden;
		}

		.rate-bunpo-percent {
			height: 100%;
			background: #e54c43;
		}

		.rv-record {
			padding: 0 0 30px;
		}

		.rv-record-star {
			display: grid;
			justify-content: center;
			gap: 20px;
			border-top: 1px solid #e6e6e6;
			margin: 0;
			padding: 40px;
		}

		.record-star-text {
			color: #a5a5a5;
			text-align: center;
			font-size: 15px;
			font-weight: 500;
			line-height: 18px;
			cursor: default;
		}

		.recorded-text-wrap {
			display: flex;
			justify-content: center;
			align-items: center;
			height: 18px;
			display: none;
		}

		.recorded-text {
			font-size: 16px;
			font-weight: 600;
			line-height: 19px;
		}

		.recorded-star {
			color: rgb(229, 76, 67);
		}

		.cancel-rating-btn {
			color: rgb(165, 165, 165);
			font-size: 13px;
			font-weight: 500;
			line-height: 16px;
			margin-left: 10px;
			cursor: pointer;
			appearance: none;
			background: none;
			border: none;
		}

		.recorded-blank {
			width: 1px;
			height: 10px;
			background: rgb(240, 240, 240);
			margin-left: 10px;
		}

		.record-star {
			display: flex;
			flex-direction: row-reverse;
		}

		.record-star>label>input[type='radio'] {
			display: none;
		}

		.record-star label {
			cursor: pointer;
			position: relative;
		}

		.record-star input {
			display: noen;
		}

		.record-star-img {
			height: 48px;
			margin: 0 3px;
		}

		.record-star label:hover~label .record-star-img,
		.record-star label:hover .record-star-img,
		.record-star-img.selected {
			filter: brightness(0) saturate(100%) invert(16%) sepia(98%) saturate(2874%) hue-rotate(-5deg) brightness(92%) contrast(95%);
		}

		.rv-text-area {
			display: grid;
			gap: 10px;
			margin: 0;
			padding: 14px 16px 16px;
			border-radius: 6px;
			border: 1px solid #e6e6e6;
		}

		.rv-textarea {
			opacity: 1;
			height: 72px !important;
			width: 100%;
			min-height: 72px;
			border: none;
			resize: vertical;
			font-size: 15px;
			line-height: 24px;
		}

		.rv-textarea::placeholder {
			color: #b8b8b8;
		}

		.rv-regist-form {
			display: flex;
			justify-content: space-between;
			align-items: center;
			width: 100%;
		}

		.spoiler-label {
			display: flex;
			align-items: center;
			color: #787878;
			cursor: pointer;
			font-size: 14px;
			font-weight: 500;
			line-height: 17px;
		}

		.spoiler-text {
			margin-left: 6px;
			font-size: 14px;
			font-weight: 500;
			line-height: 17px;
		}

		.rv-regist-btn {
			background: #ccc;
			cursor: default;
			padding: 9px 18px 8px;
			border-radius: 4px;
			color: white;
			font-size: 14px;
			font-weight: 600;
			line-height: 17px;
			border: 0;
		}

		.rv-note {
			display: grid;
			gap: 10px;
			padding: 12px 0 0;
			cursor: default;
		}

		.rv-note-check {
			display: none;
		}

		.note-check-label {
			display: flex;
			align-items: center;
			width: fit-content;
			color: #787878;
			cursor: pointer;
			font-size: 14px;
			font-weight: 500;
			line-height: 18px;
			user-select: none;
		}

		.check-expand {
			filter: brightness(0) saturate(100%) invert(47%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(95%) contrast(90%);
		}

		.note-content {
			padding: 14px 16px;
			background: #fafafa;
			border-radius: 6px;
			font-size: 14px;
			line-height: 23px;
			text-align: left;
		}

		.rv-arrange-btn {
			display: flex;
			padding: 16px 0;
		}

		.rv-arrange-btn button {
			padding: 10px;
			border-radius: 999px;
			font-size: 16px;
			line-height: 19px;
			appearance: none;
			border: none;
			margin-right: 10px;
		}

		.rv-arrange-btn button[aria-pressed='true'] {
			background: #141414;
			color: #fff;
			font-weight: 700;
		}

		.rv-arrange-btn button[aria-pressed='false'] {
			background: #f5f5f5;
			color: #787878;
			font-weight: 500;
		}

		.rv-ul {
			display: grid;
			list-style-type: none;
			margin: 0;
			padding: 0;
		}

		.rv-li {
			display: grid;
			gap: 10px;
			margin: 0;
			padding: 16px 0;
			line-height: initial;
			border-top: 1px solid #e6e6e6;
		}

		.rv-rate {
			display: flex;
		}

		.rv-rate>img {
			margin-right: 3px;
		}

		.rv-content {
			position: relative;
			outline: none;
		}

		.content-text {
			overflow: hidden;
			text-overflow: ellipsis;
			max-height: calc(24px * 4);
			line-height: 24px;
			white-space: pre-line;
			word-break: break-all;
			overflow-wrap: anywhere;
			cursor: default;
		}

		.rv-content-spoiler {
			display: grid;
			justify-content: center;
			align-items: center;
			gap: 4px;
			padding: 28px 10px;
			background: #fafafa;
			border-radius: 6px;
			cursor: default;
		}

		.content-spoiler {
			display: flex;
			align-items: center;
			margin: auto;
			color: #a5a5a5;
		}

		.spoiler-text {
			color: #787878;
			font-size: 15px;
			font-weight: 500;
			line-height: 24px;
		}

		.spoiler-view-btn {
			display: flex;
			align-items: center;
			margin: auto;
			color: #a5a5a5;
			appearance: none;
			background: none;
			border: none;
		}

		.sv-btn-text {
			font-size: 15px;
			font-weight: 500;
			line-height: 18px;
		}

		.rv-bottom {
			display: flex;
			align-items: center;
			justify-content: space-between;
		}

		.rv-writer-date {
			display: grid;
			gap: 6px;
			color: #a5a5a5;
			line-height: 17px;
		}

		.rv-writer {
			display: grid;
			grid-template-columns: auto auto auto;
			align-items: center;
			gap: 4px;
			width: fit-content;
			font-size: 13px;
			font-weight: 600;
			line-height: 17px;
			cursor: default;
		}

		.rv-right-btn {
			display: flex;
		}

		.rv-comment {
			display: flex;
			justify-content: center;
			align-items: center;
			padding: 8px 7px;
			border-radius: 4px;
			border: 1px solid #e6e6e6;
			background: #fff;
			color: #787878;
			font-size: 13px;
			font-variant-numeric: tabular-nums;
			font-weight: 500;
			line-height: 16px;
			min-width: 65px;
			user-select: none;
		}

		.rv-like {
			display: flex;
			justify-content: center;
			padding: 8px 7px;
			border-radius: 4px;
			border: 1px solid #e6e6e6;
			background: #fff;
			color: #787878;
			font-variant-numeric: tabular-nums;
			font-weight: 500;
			line-height: 16px;
			margin-left: 6px;
			min-width: 65px;
			user-select: none;
		}

		.rv-more-btn {
			padding: 18px 0 17px 0;
			width: 100%;
			height: 56px;
			display: flex;
			justify-content: center;
			align-items: center;
			position: relative;
			border-radius: 6px;
			border: 1px solid #ccc;
			background: #fff;
			color: #141414;
			font-size: 16px;
			margin-top: 0px;
		}

		.rmb-text {
			display: flex;
			align-items: center;
			font-size: 16px;
			font-weight: 700;
			color: #141414;
		}

		.buyer-standard {
			display: grid;
			gap: 10px;
			padding: 16px 0 0;
		}

		.buyer-check {
			display: none;
		}

		.recommend-wrapper {
			font-size: 14px;
			overflow-wrap: break-word;
			word-break: break-word;
			line-height: normal;
			margin: 0;
			padding: 0;
			color: #000;
			font-weight: 400;
		}

		.recommend-wrap {
			padding: 0 30px;
		}

		.best-wrap-title {
			width: 100%;
			display: flex;
			align-items: center;
			color: #141414;
			font-size: 22px;
			font-weight: 700;
			line-height: 26px;
			padding-top: 6px;
			padding-bottom: 16px;
		}

		.best-more-btn {
			color: #a5a5a5;
			font-size: 16px;
			font-weight: 600;
			line-height: 19px;
			margin-left: auto;
		}

		.best-list-wrap {
			position: relative;
			width: 100%;
		}

		.best-list {
			display: flex;
			flex-wrap: nowrap;
			overflow-x: hidden;
			overflow-y: hidden;
		}

		.bst-list {
			display: flex;
			flex: 1 0 auto;
		}

		.bst-ul {
			display: flex;
			list-style-type: none;
			margin: 0;
			padding: 0;
		}

		.bst-li {
			width: 141px;
			min-height: 298px;
			flex: 0 0 auto;
			margin-right: 6px;
		}

		.bst-book {
			position: relative;
			display: flex;
			flex-direction: column;
			align-items: flex-start;
		}

		.b-book-img-wrap {
			position: relative;
			align-self: stretch;
			width: 100%;
			padding-bottom: 144.80519480519482%;
		}

		.b-book-img {
			border-radius: 4px;
			overflow: hidden;
			display: flex;
			flex-direction: column;
			position: absolute;
			bottom: 0;
			left: 0;
			right: 0;
			max-height: 100%;
			cursor: pointer;
		}

		.b-book-info-wrap {
			margin-top: 10px;
			min-height: 84px;
			padding-right: 10px;
		}

		.b-book-title {
			display: inline-flex;
		}

		.bb-title {
			overflow: hidden;
			text-overflow: ellipsis;
			word-wrap: break-word;
			white-space: normal;
			max-height: calc(19px * 2);
			line-height: 19px;
			font-size: 16px;
			word-break: break-all;
			color: #141414;
		}

		.b-book-info {
			display: flex;
			flex-direction: column;
		}

		.b-book-author {
			margin-top: 6px;
			font-size: 14px;
			line-height: 17px;
			display: block;
			color: #787878;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
			overflow-wrap: break-word;
		}

		.b-book-author-name {
			text-decoration: none;
			cursor: pointer;
			color: #141414;
		}

		.b-book-rating {
			margin-top: 7px;
			font-size: 13px;
			line-height: 16px;
			display: flex;
			align-items: center;
			color: #dc3232;
		}

		.side-bar {
			font-size: 14px;
			overflow-wrap: break-word;
			word-break: break-word;
			line-height: normal;
			margin: 0;
			padding: 0;
			border-left: 1px solid #e6e6e6;
			width: 234px;
			box-sizing: border-box;
			height: 100%;
		}

		.best-list-top10 {
			padding: 30px 0 24px 30px;
		}

		.best-list-title {
			display: flex;
			align-items: center;
			color: #141414;
			margin-bottom: 16px;
			font-size: 14px;
			font-weight: 700;
			line-height: 17px;
			cursor: pointer;
			transition: opacity 0.4s ease;
		}

		.best-list-title:hover {
			text-decoration: none;
			color: #6b6b6b;
		}

		.best-list-ol {
			display: grid;
			gap: 8px;
			list-style-type: none;
			counter-reset: ranking;
		}

		.b-list {
			display: grid;
			grid-template-columns: 17px 1fr;
			gap: 12px;
			font-size: 14px;
			font-weight: 500;
			line-height: 17px;
			margin-left: -38px;
		}

		.b-list:hover {
			text-decoration: none;
		}

		.b-list:hover>span {
			color: #aaa;
		}

		.b-list::before {
			counter-increment: ranking;
			content: counter(ranking);
			color: #dc3232;
			font-weight: 700;
		}

		.b-list-title {
			color: #555;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
			transition: opacity 0.4s ease;
		}

		.serial-checkout-popup {
			display: none;
		}

		.popup-wrapper {
			margin-top: -157.601px;
			box-shadow: 0 5px 8px 3px rgba(0, 0, 0, .3);
			position: fixed;
			left: 50%;
			top: 50%;
			box-sizing: border-box;
			width: 300px;
			margin-left: -150px;
			border: 3px solid #000;
			background: #fff;
			border-radius: 3px;
			z-index: 10000;
		}

		.popup-wrapper.active {
			display: block;
		}

		.popup-header {
			background: #464343;
			display: table;
			width: 100%;
		}

		.header-title-wrapper {
			display: table-cell;
			vertical-align: middle;
		}

		.header-title {
			padding: 10px;
			font-size: 14px;
			font-weight: 700;
			color: #d9d2d1;
		}

		.close-btn-wrapper {
			text-align: right;
			display: table-cell;
			vertical-align: middle;
		}

		.close-btn {
			color: #c4bbb8;
			padding: 10px;
			appearance: none;
			border: none;
			background: none;
		}

		.indent-hidden {
			position: absolute;
			display: inline-block;
			height: 0;
			width: 0;
			text-indent: -9999px;
			overflow: hidden;
		}

		.icon-close {
			font-size: 15px;
			vertical-align: -15%;
			filter: brightness(0) invert(35%) sepia(0%) saturate(100%) hue-rotate(0deg) brightness(145%) contrast(100%);
		}

		.popup-body {
			padding: 30px 0 25px 0;
			text-align: center;
		}

		.main-description {
			padding: 0 15px;
			font-size: 16px;
			font-weight: 700;
			line-height: 1.4em;
			color: #000;
			margin-bottom: 0;
		}

		.rental-period {
			margin-top: 3px;
			padding: 0 15px;
			font-size: 16px;
			font-weight: 700;
			line-height: 1.3em;
			color: #ff7f50;
			letter-spacing: -0.03em;
			margin-bottom: 0;
		}

		.checkout-btns {
			padding-top: 8px;
		}

		.checkout-coupon {
			display: block;
			width: 200px;
			margin: 12px auto 0 auto;
			position: relative;
			border: 1px solid #d9d3d1;
			border-radius: 4px;
			overflow: hidden;
			transition: border-color .2s;
		}

		.coupon-select {
			border: none;
			width: 100%;
			cursor: pointer;
			height: 37px;
			line-height: 37px;
			font-size: 12px;
			color: #303538;
			text-indent: 10px;
			background-color: #fff;
			vertical-align: middle;
			outline: 0;
		}

		.select-arrow {
			display: block;
			position: absolute;
			right: 0;
			top: 0;
			pointer-events: none;
			width: 28px;
			height: 37px;
			line-height: 37px;
			background: #fff;
			text-align: center;
		}

		.orange-btn {
			display: block;
			width: 200px;
			margin: 10px auto 0 auto;
			padding: 10px 10px;
			appearance: none;
			outline: 0;
			text-decoration: none;
			box-sizing: border-box;
			border-radius: 4px;
			font-weight: 700;
			text-align: center;
			vertical-align: baseline;
			cursor: pointer;
			transition: background .2s, color .2s;
			color: #fff;
			background: #ff7f50;
			border: 1px solid #ed6d5e;
			font-size: 13px;
		}

		.text-button {
			padding: 5px 10px;
			margin-top: 15px;
			font-size: 12px;
			font-weight: 700;
			color: #918480;
			transition: color .2s;
			appearance: none;
			border: none;
			background: none;
		}

		.show-another-payment {
			display: flex;
			margin: 20px auto 0 auto;
		}

		.sub-description {
			margin-top: 10px;
			padding: 0 15px;
			color: #4d4340;
			line-height: 1.48em;
			font-size: 12px;
		}

		.white-btn {
			display: block;
			width: 200px;
			margin: 10px auto 0 auto;
			padding: 10px 10px;
			appearance: none;
			outline: 0;
			text-decoration: none;
			box-sizing: border-box;
			border-radius: 4px;
			font-weight: 700;
			text-align: center;
			vertical-align: baseline;
			cursor: pointer;
			transition: background .2s, color .2s;
			color: #a59b98;
			background: #fff;
			border: 1px solid #a59b98;
			font-size: 13px;
		}

		#full_page_spinner {
			display: none;
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			z-index: 9999;
			pointer-events: all;
		}

		#full_page_spinner.active {
			display: block;
		}

		.spinner-dimmed-bg {
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: rgba(255, 255, 255, .7);
		}

		.checkout-price {
			margin-top: 3px;
			padding: 0 15px;
			font-size: 16px;
			font-weight: 700;
			line-height: 1.3em;
			color: #ff7f50;
		}

		.point-list {
			margin: 0;
			padding: 0;
			margin-top: 12px;
			list-style-type: none;
		}

		.kihi-point {
			color: #4d4340;
			padding-top: 7px;
			font-size: 12px;
		}

		.clock-badge {
			filter: brightness(0) saturate(100%) invert(38%) sepia(95%) saturate(750%) hue-rotate(-5deg) brightness(115%) contrast(110%);
			height: 15px;
		}

		.free-badge {
			height: 18px;
		}

		.rv-count {
			border-top: 2px solid #787878;
			font-size: 18px;
			line-height: 22px;
			font-weight: 700;
		}

		.all {
			border-bottom: 1px solid #ccc;
			padding: 19px 0 15px 10px;
		}

		.rv-review {
			background: rgb(250, 250, 250);
			list-style-type: none;
			margin: 0;
			padding: 0;
		}

		.rv-review-li {
			display: grid;
			grid-template-columns: auto 1fr;
			gap: 8px 6px;
			padding: 16px;
			border-top: 1px solid rgb(230, 230, 230);
		}

		.rv-review-content {
			font-size: 15px;
			font-weight: 500;
			line-height: 24px;
			white-space: pre-line;
			overflow-wrap: anywhere;
			margin: 0;
			padding: 0;
		}

		.rv-review-bottom {
			display: flex;
			align-items: center;
			grid-column: 2 / 3;
			color: rgb(165, 165, 165);
			font-size: 12px;
			font-weight: 500;
			line-height: 14px;
		}

		.rv-review-blank {
			background: rgb(240, 240, 240);
			border-radius: 999px;
			width: 1px;
			height: 10px;
			margin: 0px 8px;
		}

		.rv-review-insert {
			padding: 16px;
			border-top: 1px solid rgb(230, 230, 230);
		}

		.review-insert-form {
			position: relative;
			padding: 13px 68px 12px 16px;
			background: rgb(255, 255, 255);
			border: 1px solid rgb(230, 230, 230);
			border-radius: 6px;
			overflow: hidden;
		}

		.review-insert-textarea {
			width: 100%;
			min-height: 28x;
			overflow-y: auto;
			border: none;
			font-size: 14px;
			line-height: 22px;
			resize: vertical;
			white-space: pre-wrap;
			vertical-align: middle;
		}

		.review-insert-textarea::placeholder {
			color: #a5a5a5;
		}

		textarea:focus {
			border: none;
			outline: none;
		}

		.review-submit-btn {
			color: rgb(165, 165, 165);
			cursor: default;
			position: absolute;
			bottom: 0px;
			right: 0px;
			padding: 16px 16px 15px;
			font-size: 14px;
			font-weight: 600;
			appearance: none;
			background: none;
			border: 0;
		}
	</style>
</head>

<body>
	<main layout:fragment="content" class="container d-flex" style="min-height: 650px;">
		<div class="content-page">
			<div id="page_detail" class="page-detail">
				<div class="detail-wrap">
					<div class="detail-content">
						<div class="detail">
							<div class="grid-left-top1">
								<div class="grid-left-top2">
									<div class="grid-left-top3">
										<div class="grid-left-top4">
											<div class="thumb-grid">
												<button type="button" class="thumb">
													<img class="thumb-img" src="/resources/static/covers/cover1.png"></img>
												</button>
											</div>
											<div class="info-grid">
												<div class="category">
													<ul class="cate-ul">
														<li class="cate-li">
															<span class="blank"></span>
															<div class="cate-title">
																<a th:href="@{/}" class="main-cate-title" th:text="${book.bo_main_cate}"></a>
																<img src="/resources/static/img/next.png" alt="next" style="height: 10px;" class="mb-1">
																<a th:href="@{/}" class="sub-cate-title" th:text="${book.bo_sub_cate}"></a>
															</div>
														</li>
													</ul>
												</div>
												<h3 class="book-title" th:text="${book.bo_title}"></h3>
												<div class="rating-content">
													<ul class="rating-ul">
														<li class="rating-li">
															<button type="button" class="total-rating">
																<img src="/resources/static/img/star.png" alt="별" class="red" style="height: 15px;">
																<div class="rate-score">4.9점</div>
																<div class="rate-cnt">(12,896)</div>
															</button>
														</li>
														<li class="like-li">
															<span class="likes">관심 39,486</span>
														</li>
													</ul>
												</div>
												<div class="info-content">
													<div class="author">
														<ul class="author-ul">
															<li class="author-li">
																<a th:href="@{/}" class="author-name" th:text="${book.bo_author}"></a>
																<span class="ml-1"> 저</span>
															</li>
														</ul>
													</div>
													<div class="publisher">
														<a th:href="@{/}" class="publisher-link" th:text="${book.bo_publisher}"></a> 출판
													</div>
													<div class="total-episode" th:text="'총 ' + ${epiList.size()} + '화'">
													</div>
												</div>
												<div class="interest-content">
													<button class="interestBtn"><img src="/resources/static/img/plus.png" alt="plus"
															style="height: 20px;" class="plusBtn orange">관심</button>
												</div>
											</div>
											<div class="info-bottom-grid">
												<div class="bottom-content">
													<div class="content-area">
														<div class="header-text" style="color: #748198; background-color: #e3edf7;">연재</div>
														<ul class="serial-ul">
															<li class="serial-li">
																<div class="serial-daytitme">매주 (월, 수, 금) 18시</div>
															</li>
														</ul>
													</div>
													<div class="content-area">
														<div class="header-text" style="color: #ed6d5e; background: #fce8e6;">공지</div>
														<ul class="noti-ul">
															<li class="noti-li">
																<div class="noti-contents">
																	<button type="button" class="noti-title">도서 파일 교체 안내
																		(2025-04-22)
																		<!-- 펼친 경우 fold.png 로 변경 -->
																		<span class="expandBtn">
																			<img id="noti_icon" src="/resources/static/img/expand.png" alt="펼치기"
																				style="height: 18px;">
																		</span>
																	</button>
																	<button type="button" class="noti-content none">
																		<div class="content-wrapper">
																			<div class="content-wrap">
																				<b>이세계 착각 헌터 495화는</b>
																				2025년 4월 22일 본문 내 문장을 수정한 파일로
																				교체했습니다.<br>
																				기존 구매자분들께서는 앱 내의 '내 서재'에 다운로드 받은 도서를
																				삭제하신 후, '구매목록'에서 재다운로드 하시면 수정된 도서로 이용하실
																				수
																				있습니다.
																				도서
																				이용에 참고 부탁드립니다.<br>
																				※ 단, 재다운로드 시 기존 도서에 남긴 독서노트(형광펜, 메모,
																				책갈피)는 초기화되거나 위치가 변경됩니다.
																			</div>
																		</div>
																	</button>
																</div>
															</li>
														</ul>
													</div>
													<div class="content-area">
														<div class="header-text" style="color: #ffa550; background: #fff3e4;">키다무</div>
														<div class="wait-for-free">
															<span class="wff-text">1일 마다 1편 기다리면 무료</span>
															<button class="infoBtn">
																<img src="/resources/static/img/info.png" alt="i아이콘" style="height: 18px;">
															</button>
														</div>
														<div class="wff-state">
															<div class="state-text">무료 이용 가능</div>
														</div>
													</div>
												</div>
												<div class="continue-btn">
													<a th:href="@{/}" class="continueBtn">이어보기</a>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div id="metadata">
								<div class="meta-wrapper">
									<div class="meata-wrap" style="padding: 0 30px;">
										<div class="meta">
											<div class="m-wrap">
												<div class="wrap-title">업데이트</div>
												<span class="wrap-date"></span>
											</div>
											<div class="m-wrap">
												<div class="wrap-title">출간 정보</div>
												<span class="wrap-date publish-date" th:attr="data-date=${book.bo_publish_date}"></span>
												<script>
													var dateSpan = document.querySelector(".publish-date");
													var rawDateStr = dateSpan.dataset.date;

													if (rawDateStr) {
														var date = new Date(rawDateStr);
														var yyyy = date.getFullYear();
														var mm = String(date.getMonth() + 1).padStart(2, '0');
														var dd = String(date.getDate()).padStart(2, '0');

														dateSpan.innerText = `${yyyy}.${mm}.${dd} 출간`;
													} else {
														dateSpan.innerText = '-';
													}
												</script>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="episode-area">
								<form action="/order/checkout" method="post" class="form-episode-list">
									<div class="epi-line"></div>
									<div class="list-module">
										<div class="option-wrap">
											<ul class="option-left">
												<li class="select-all-wrap">
													<input type="checkbox" id="select_all" class="all-checkbox">
													<label for="select_all" class="all-label">전체 선택</label>
												</li>
												<li class="option-item">
													<button type="button" onclick="clickSortBtn(this)" class="sort-btn">
														<img src="/resources/static/img/transfer.png" class="dark-gray" alt="정렬 아이콘"
															style="height: 14px; width: 11px; margin-bottom: 1px;">
														<span class="sort-text">신간부터</span>
													</button>
												</li>
											</ul>
											<div class="option-right">
												<ul class="right-ul">
													<li class="option-item">
														<p class="option-info">
															<span class="info-vol">총 <span>0</span>화</span>
															<span style="color: #ff7f50;">0원</span>
														</p>
													</li>
													<li class="option-item">
														<ul class="oi-ul">
															<li class="btn-item">
																<button type="button" class="cart-btn">
																	<img src="/resources/static/img/cart.png" alt="카트 아이콘" style="height: 12px;"> 카트
																</button>
															</li>
															<li class="btn-item">
																<button type="button" class="select-buy-btn">선택
																	소장</button>
															</li>
														</ul>
													</li>
												</ul>
											</div>
										</div>
										<div class="list-wrapper">
											<ul class="list-ul" th:each="episode : ${epiList}">
												<!-- data-id : ep_code | data-price : ep_price | data-volume : ep_code에서 도서코드 제거 -->
												<li class="epi-list" data-id="${episode.ep_code}" data-price="${episode.ep_price}">
													<div class="epi-list-wrapper">
														<div class="table-wrap">
															<div class="epi-checkbox">
																<input type="checkbox" id="book${episode.ep_code}" class="episode-check">
																<label for="book${episode.ep_code}" class="epi-label"></label>
															</div>
															<div class="epi-info">
																<div class="info-title-with-badge">
																	<!-- 무료 회차가 아닌 경우 무료 배지 미노출 | 키다무 도서 & 무료X 회차인 경우 clock_badge로 노출 -->
																	<div th:if="${episode.ep_price == 0}" class="badge-list">
																		<div class="badge">
																			<img class="free-badge" src="/resources/static/img/free.png" alt="무료 배지">
																		</div>
																	</div>
																	<div th:if="${episode.ep_price != 0} and ${book.bo_wait_for_free == 'Y'}"
																		class="badge-list">
																		<div class="badge">
																			<img class="clock-badge" src="/resources/static/img/clock_badge.png" alt="키다무 배지">
																		</div>
																	</div>
																	<div class="epi-title" th:text="${episode.ep_title}"></div>
																</div>
																<div>
																	<ul class="info-list-wrapper">
																		<li class="info-ep-date" th:text="${#strings.substring(episode.ep_date, 0, 10)}">
																		</li>
																		<!-- 아마도 전체 페이지 들어가야할듯? ↓ -->
																		<li class="info-page-cnt">| 약 4.5천 자</li>
																		<!-- 소장한 경우만 아래 배지 추가 -->
																		<li class="info-status">|
																			<span style="color: #ff7f50;">소장</span>
																		</li>
																	</ul>
																</div>
															</div>
															<div class="direct-view-wrapper">
																<!-- 무료/소장 회차 : 보기 | 유료 회차 : 소장 -->
																<a th:href="@{/}" data-book-id="ep_code" class="direct-view-btn">보기</a>
															</div>
															<div class="direct-view-wrapper">
																<!-- 무료/소장 회차 : 보기 | 유료 회차 : 소장 -->
																<a th:href="@{/}" data-book-id="ep_code" class="checkout-btn">소장</a>
															</div>
														</div>
													</div>
												</li>
											</ul>
										</div>
										<div class="list-more-button">
											<button type="button" class="more-button">
												<span class="more-button-text">더보기</span>
												<img src="/resources/static/img/expand.png" alt="더보기" style="height: 20px;">
											</button>
										</div>
									</div>
								</form>
							</div>
							<div>
								<div id="UpperPanelList">
									<div class="upper-wrapper">
										<div class="upper-wrap">
											<div class="upper">
												<div class="up-wrap">
													<div class="upper-text">
														본 도서는 출판사의 요청으로 무료 회차를 부분별로 서비스하고 있습니다.
														<br>
														기본 무료 회차는 총 27화(1~25화, 246화, 388화) 입니다. 도서 이용에 참고 부탁드립니다.
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div id="keyWord">
									<div class="keyword-wrapper">
										<div class="keyword-wrap">
											<div style="margin-bottom: 80px;">
												<h2 class="keyword-title">이 작품의 키워드</h2>
												<div class="keyword-list">
													<div class="keyword">
														<button class="keyword-btn">
															<span class="keyword-name">
																<span>#현대판타지</span>
															</span>
														</button>
													</div>
												</div>
												<a class="other-keyword" th:href="@{/}">
													<span class="other-kw">다른 키워드로 검색</span>
													<img class="ml-1" src="/resources/static/img/next.png" alt=">" style="height: 13px;">
												</a>
											</div>
										</div>
									</div>
								</div>
								<div id="description">
									<div class="description-wrapper">
										<div class="description-wrap">
											<div style="margin-bottom: 80px;">
												<div class="d-book-title">이세계 착각 헌터</div>
												<h2 class="wrapper-title">작품 소개</h2>
												<div class="descript-wrapper">
													<div class="descript-wrap">
														<div>
															<span th:text="${book.bo_description}"></span>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div id="author">
									<div class="author-wrapper">
										<div class="author-wrap">
											<div style="margin-bottom: 80px;">
												<h2 class="wrapper-title">작가 프로필</h2>
												<div>
													<div class="au-wrapper">
														<div class="au-wrap">
															<a th:href="@{/}" class="au-name">
																<span class="au-name-text" th:text="${book.bo_author}"></span>
															</a>
														</div>
														<div class="au-profile">
															<span class="profile-text">소개</span>
															<div class="au-profile-text">
																<div class="au-text">소개글~</div>
															</div>
														</div>
													</div>
													<div class="au-update">
														<div class="au-update-date">2025.01.08 업데이트</div>
													</div>
													<div class="au-other-book">
														<div class="au-other-book-title">
															작가의 대표 작품
															<a th:href="@{/}" class="au-other-more">더보기</a>
														</div>
														<div class="other-books">
															<div class="other-book-list">
																<div class="book-list">
																	<div class="books">
																		<ul class="books-ul">
																			<li class="book-li">
																				<div class="book">
																					<div class="book-img">
																						<a th:href="@{/}" class="bo-img">
																							<img src="/resources/static/covers/cover1.png" alt="도서 이미지">
																							<span class="bo-image"></span>
																						</a>
																					</div>
																					<div class="book-info">
																						<div class="bo-title">
																							<!-- bo-img와 동일한 링크 -->
																							<a th:href="@{/}" class="b-title">이세계 착각
																								헌터</a>
																						</div>
																						<div class="book-author">
																							<span class="bo-author">
																								<a th:href="@{/}" class="b-author">대대원</a>
																							</span>
																							<span class="bo-rating">
																								<img class="red mb-1" src="/resources/static/img/star.png" alt="별"
																									style="height: 12px; margin-right: 2px;">4.9
																								<span class="b-rating-cnt">(12,996)</span>
																							</span>
																						</div>
																					</div>
																					<!-- bo-img 와 동일한 링크 -->
																					<a th:href="@{/}" class="book-click"></a>
																				</div>
																			</li>
																		</ul>
																	</div>
																</div>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div id="review">
									<div class="review-wrapper">
										<div class="review-wrap">
											<div class="rv-wrapper">
												<h2 class="wrapper-title">리뷰</h2>
												<div class="rv-overview">
													<div class="rv-rating">
														<h3 class="rv-rating-text" id="ratingText"></h3>
														<script th:inline="javascript">
															let totalRating = [[${ book.bo_total_rating }]];
															let reviewCount = [[${ book.bo_review_count }]];

															let ratingText = "-";
															if (reviewCount > 0) {
																var average = (totalRating / reviewCount) / 2;
																ratingText = average.toFixed(1); // 소수점 1자리
															}

															document.getElementById("ratingText").textContent = ratingText;
														</script>
														<div class="rv-rating-img">
															<span class="rating-img-text">구매자 별점</span>
															<div class="rating-star">
																<img src="/resources/static/img/star.png" alt="별" style="height: 15px;"
																	class="star-icon">
																<img src="/resources/static/img/star.png" alt="별" style="height: 15px;"
																	class="star-icon">
																<img src="/resources/static/img/star.png" alt="별" style="height: 15px;"
																	class="star-icon">
																<img src="/resources/static/img/star.png" alt="별" style="height: 15px;"
																	class="star-icon">
																<img src="/resources/static/img/star.png" alt="별" style="height: 15px;"
																	class="star-icon">
															</div>
														</div>
														<script>
															const rating = parseFloat(average.toFixed(1)); // 예: [[${ratingText}]]로 Thymeleaf에서 넘겨줄 수 있음
															const starIcon = document.querySelectorAll('.rating-star .star-icon');

															starIcon.forEach((star, index) => {
																if (index < Math.floor(rating)) {
																	star.classList.add('red');
																} else if (index < rating) {
																	star.classList.add('tomato');
																} else {
																	star.classList.add('gray');
																}
															});
														</script>
													</div>
													<div class="rv-rating-cnt">
														<div class="rating-cnt" th:text="${book.bo_review_count}+'명 평가'"></div>
														<label class="rating-bunpo">
															<input type="checkbox" class="bunpo-check">
															<span class="bunpo-text">별점 분포 보기</span>
															<img id="bunpo_table_icon" class="ml-2" src="/resources/static/img/down-triangle.png"
																alt="아래 삼각형" style="height: 10px;">
															<button type="button" class="bunpo-table none">
																<script th:inline="javascript">
																	/*<![CDATA[*/
																	let ratingRatio = /*[[${rating}]]*/ {};
																	/*]]>*/
																</script>
																<div class="rate-bunpo">
																	<div>5</div>
																	<div class="bunpo">
																		<div id="rate5" class="rate-bunpo-percent">
																		</div>
																	</div>
																	<div>4</div>
																	<div class="bunpo">
																		<div id="rate4" class="rate-bunpo-percent">
																		</div>
																	</div>
																	<div>3</div>
																	<div class="bunpo">
																		<div id="rate3" class="rate-bunpo-percent">
																		</div>
																	</div>
																	<div>2</div>
																	<div class="bunpo">
																		<div id="rate2" class="rate-bunpo-percent">
																		</div>
																	</div>
																	<div>1</div>
																	<div class="bunpo">
																		<div id="rate1" class="rate-bunpo-percent">
																		</div>
																	</div>
																</div>
																<script>
																	// 페이지 로드 후 실행
																	document.addEventListener('DOMContentLoaded', function () {
																		// 각 별점 div에 width 스타일 적용
																		for (let i = 1; i <= 5; i++) {
																			let elem = document.getElementById('rate' + i);
																			if (elem && ratingRatio[i]) {
																				elem.style.width = ratingRatio[i] + '%';
																			}
																		}
																	});
																</script>
															</button>
														</label>
													</div>
												</div>
												<div class="rv-record">
													<div class="rv-record-star">
														<h4 class="record-star-text">이 작품을 평가해 주세요!</h4>
														<div class="recorded-text-wrap">
															<div class="recorded-text">내가 남긴 별점
																<span class="recorded-star"></span>
															</div>
															<div class="recorded-blank"></div>
															<button type="button" class="cancel-rating-btn">취소</button>
														</div>
														<div class="record-star">
															<label>
																<input type="radio" name="rating" value="10">
																<img src="/resources/static/img/star.png" alt="별" class="record-star-img gray">
															</label>
															<label>
																<input type="radio" name="rating" value="8">
																<img src="/resources/static/img/star.png" alt="별" class="record-star-img gray">
															</label>
															<label>
																<input type="radio" name="rating" value="6">
																<img src="/resources/static/img/star.png" alt="별" class="record-star-img gray">
															</label>
															<label>
																<input type="radio" name="rating" value="4">
																<img src="/resources/static/img/star.png" alt="별" class="record-star-img gray">
															</label>
															<label>
																<input type="radio" name="rating" value="2">
																<img src="/resources/static/img/star.png" alt="별" class="record-star-img gray">
															</label>
														</div>
													</div>
													<div class="rv-text-area">
														<textarea placeholder="리뷰를 10자 이상 입력해 주세요. 광고 및 욕설, 타인을 비방하는 문구는 비공개될 수 있습니다."
															class="rv-textarea"></textarea>
														<form class="rv-regist-form">
															<label class="spoiler-label">
																<input type="checkbox" class="spoiler-check">
																<span class="spoiler-text">스포일러가 있습니다.</span>
															</label>
															<button type="submit" class="rv-regist-btn">리뷰 등록</button>
														</form>
													</div>
													<div class="rv-note">
														<input type="checkbox" id="note_check" class="rv-note-check">
														<label for="note_check" class="note-check-label">
															<span>리뷰 작성 유의사항</span>
															<img id="note_icon" src="/resources/static/img/expand.png" alt="펼치기"
																style="width: 20px; margin-left: 3px;" class="check-expand">
														</label>
														<div class="note-content none">
															<strong>건전한 리뷰 정착 및 양질의 리뷰를 위해 아래 해당하는 리뷰는 비공개 조치될 수 있음을
																안내드립니다.</strong>
															<ol style="list-style-type: decimal; list-style-position: outside; margin-left: -25px;">
																<li>타인에게 불쾌감을 주는 욕설</li>
																<li>비속어가 타인을 비방하는 내용</li>
																<li>특정 종교, 민족, 계층을 비방하는 내용</li>
																<li>해당 작품의 줄거리나 키히 서비스 이용과 관련이 없는 내용</li>
																<li>의미를 알 수 없는 내용</li>
																<li>광고 및 반복적인 글을 게시하여 서비스 품질을 떨어트리는 내용</li>
																<li>저작권상 문제의 소지가 있는 내용</li>
																<li>다른 리뷰에 대한 반박이나 논쟁을 유발하는 내용</li>
															</ol>
															<div style="margin-top: -15px;">* 결말을 예상할 수 있는 리뷰는 자제하여 주시기
																바랍니다.</div>
															<strong>이 외에도 건전한 리뷰 문화 형성을 위한 운영 목적과 취지에 맞지 않는 내용은 담당자에 의해
																리뷰가 비공개 처리될 수 있습니다.</strong>
														</div>
													</div>
												</div>
												<script th:inline="javascript">
													$(".rv-regist-form").submit(function (e) {
														e.preventDefault();

														const content = $(".rv-textarea").val();
														const rating = $("input[name='rating']:checked").val();
														const spoilerCheckbox = document.querySelector('.spoiler-check');

														if (!rating) {
															alert("별점을 선택해주세요.");
															return;
														}

														if (content.length < 10) {
															alert("리뷰는 10자 이상 입력해주세요.");
															return;
														}

														const review = {
															rv_bo_code: [[${ book.bo_code }]],
															rv_content: content,
															rv_rating: rating,
															rv_spoiler: spoilerCheckbox.checked ? 'Y' : 'N'
														}

														$.ajax({
															url: "/review/insert",
															method: "post",
															data: JSON.stringify(review),
															contentType: "application/json",
															success: function (data) {
																if (data) {
																	console.log(review);
																	alert("리뷰 등록 완료");
																	$(".rv-textarea").val('');
																} else {
																	alert("리뷰 등록 실패");
																}
															}
														});
													});
												</script>
												<div class="rv-count">
													<div class="all" th:text="'리뷰 수 ' + ${book.bo_review_count}"></div>
												</div>
												<div class="rv-arrange-btn">
													<button type="button" aria-pressed="true">최신순</button>
													<button type="button" aria-pressed="false">공감순</button>
													<button type="button" aria-pressed="false">별점 높은순</button>
													<button type="button" aria-pressed="false">별점 낮은순</button>
												</div>
												<ul class="rv-ul" id="rv_ul">
													<li class="rv-li" th:each="review : ${rvList}" th:if="${review.rv_ori_num == 0}">
														<div class="rv-rate d-flex red" style="font-weight: 700;">
															<img src="/resources/static/img/star.png" alt="별" class="red"
																style="height: 13px; margin-top: 1px;">
															<span th:text="${review.rv_rating * 1.0 / 2}"></span>
														</div>
														<div class="rv-content" th:attr="hidden=${review.rv_spoiler == 'Y'}">
															<p class="content-text" th:text="${review.rv_content}"></p>
														</div>
														<div class="rv-content-spoiler" th:attr="hidden=${review.rv_spoiler != 'Y'}">
															<div class="rv-content" hidden>
																<p class="content-text" th:text="${review.rv_content}">
																</p>
															</div>
															<div class="content-spoiler">
																<img src="/resources/static/img/exclamation.png" alt="i 아이콘" style="height: 23px;"
																	class="dark-gray" />
																<span class="spoiler-text">스포일러가 있는 리뷰입니다.</span>
															</div>
															<button type="button" class="spoiler-view-btn">
																<span class="sv-btn-text">리뷰 보기</span>
																<img src="/resources/static/img/next.png" alt=">"
																	style="height: 12px; margin-bottom: 2px;" class="dark-gray ml-1" />
															</button>
														</div>
														<div class="rv-bottom">
															<div class="rv-writer-date">
																<div class="rv-writer">
																	<div class="rv-nick" th:text="${review.rv_user}"></div>
																	<div class="rv-review-blank"></div>
																	<div class="rv-date-text" th:text="${#strings.substring(review.rv_date, 0, 10)}">
																	</div>
																</div>
															</div>
															<div class="rv-right-btn">
																<button type="button" class="rv-comment toggle-replies-btn"
																	th:attr="data-rvnum=${review.rv_num}">
																	댓글
																	<span class="ml-1"
																		th:text="${replyCountMap[review.rv_num] != null ? replyCountMap[review.rv_num] : 0}"></span>
																</button>
																<button type="button" class="rv-like">
																	<img src="/resources/static/img/thumb_up.png" alt="공감 버튼" style="height: 18px;">
																	<span class="rv-like-cnt">0</span>
																</button>
															</div>
														</div>
														<ul class="rv-review" th:id="'replies-' + ${review.rv_num}" style="display: none;">
															<li class="rv-review-li" th:each="reply : ${rvList}"
																th:if="${reply.rv_ori_num == review.rv_num}">
																<img src="/resources/static/img/re_review.png" alt="ㄴ" style="height: 15px;"
																	class="dark-gray">
																<p class="rv-review-content" th:text="${reply.rv_content}"></p>
																<div class="rv-review-bottom">
																	<div class="rv-review-user" th:text="${reply.rv_user}"></div>
																	<div class="rv-review-blank"></div>
																	<div class="rv-reivew-date" th:text="${#strings.substring(reply.rv_date, 0, 19)}">
																	</div>
																</div>
															</li>
															<li class="rv-review-insert">
																<form class="review-insert-form" th:attr="data-rvNum=${review.rv_num}">
																	<textarea placeholder="댓글을 입력해 주세요." class="review-insert-textarea"
																		style="height: 28px !important;"></textarea>
																	<button type="submit" class="review-submit-btn">등록</button>
																</form>
															</li>
														</ul>
													</li>
												</ul>
												<script th:inline="javascript">
													// 정렬 버튼 클릭 시 호출되는 함수
													function loadRvList(sort) {
														const boCode = [[${ book.bo_code }]];

														$.ajax({
															url: "/review/sort",
															method: "GET",
															data: {
																sort: sort,
																bo_code: boCode
															},
															contentType: 'text/html; charset=utf-8',
															success: function (html) {
																$("#rvListFlag").replaceWith(html);
															},
															error: function (xhr, status, error) {
																console.log('리뷰 불러오기 실패:', error);
															}
														});
													}

													// 정렬 버튼 클릭 이벤트 바인딩
													document.addEventListener("DOMContentLoaded", function () {
														const arrangeButtons = document.querySelectorAll('.rv-arrange-btn button');

														arrangeButtons.forEach(button => {
															button.addEventListener('click', function () {
																// 모든 버튼 aria-pressed 초기화
																arrangeButtons.forEach(btn => btn.setAttribute('aria-pressed', 'false'));
																// 현재 클릭한 버튼 활성화
																this.setAttribute('aria-pressed', 'true');

																// 텍스트로 정렬 방식 결정
																const text = this.textContent.trim();
																let sortKey = "recent";
																if (text.includes("공감")) sortKey = "likes";
																else if (text.includes("높은")) sortKey = "high";
																else if (text.includes("낮은")) sortKey = "low";

																// 정렬된 리뷰 리스트 불러오기
																loadRvList(sortKey);
															});
														});
														const buttons = document.querySelectorAll('.toggle-replies-btn');

														buttons.forEach(btn => {
															btn.addEventListener('click', function () {
																const rvNum = btn.getAttribute('data-rvnum');
																const replies = document.getElementById('replies-' + rvNum);
																if (replies) {
																	replies.style.display = replies.style.display === 'none' ? '' : 'none';
																}
															})
														})
													});

													$(".review-insert-form").submit(function (e) {
														e.preventDefault();

														const form = $(this);
														const rvOriNum = form.data("rvnum");
														const content = form.find(".review-insert-textarea").val();

														const review = {
															rv_bo_code: [[${book.bo_code}]], // 상단 <script>에서 선언되어 있어야 함
															rv_content: content,
															rv_ori_num: rvOriNum
														};

														$.ajax({
															url: "/rereview/insert",
															method: "post",
															data: JSON.stringify(review),
															contentType: "application/json",
															success: function (data) {
																if (data) {
																	// 댓글 HTML 생성
																	const replyHtml = `
																		<li class="rv-review-li">
																				<img src="/resources/static/img/re_review.png" alt="ㄴ" style="height: 15px;" class="dark-gray">
																				<p class="rv-review-content">${data.rv_content}</p>
																				<div class="rv-review-bottom">
																						<div class="rv-review-user">${data.rv_user}</div>
																						<div class="rv-review-blank"></div>
																						<div class="rv-reivew-date">${data.rv_date.substring(0, 19)}</div>
																				</div>
																		</li>
																	`;

																	// 댓글 영역에서 입력 폼(li.rv-review-insert) 바로 전에 삽입
																	const replyContainer = $("#replies-" + rvOriNum);
																	replyContainer.find(".rv-review-insert").before(replyHtml);

																	// 입력창 초기화
																	form.find(".review-insert-textarea").val('');
																} else {
																	alert("댓글 등록 실패");
																}
															}
														});
													});
												</script>
												<div class="review-more-btn">
													<button type="button" class="rv-more-btn">
														<span class="rmb-text">
															더보기
															<img src="/resources/static/img/expand.png" alt="더보기 버튼" style="height: 23px;">
														</span>
													</button>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div id="recommend-list">
									<div class="recommend-wrapper">
										<div class="recommend-wrap">
											<div style="margin-bottom: 80px;">
												<h2 class="best-wrap-title">
													<span>현대 판타지 베스트</span>
													<a th:href="@{/}" class="best-more-btn">더보기</a>
												</h2>
												<div class="best-list-wrapper">
													<div class="best-list-wrap">
														<div class="best-list">
															<div class="bst-list">
																<ul class="bst-ul">
																	<li class="bst-li">
																		<div class="bst-book">
																			<div class="b-book-img-wrap">
																				<a th:href="@{/}" class="b-book-img">
																					<img src="/resources/static/covers/cover1.png" alt="책 표지">
																				</a>
																			</div>
																			<div class="b-book-info-wrap">
																				<div class="b-book-title">
																					<a th:href="@{/}" class="bb-title">이세계 착각 헌터</a>
																				</div>
																				<div class="b-book-info">
																					<span class="b-book-author">
																						<a th:href="@{/}" class="b-book-author-name">대대원</a>
																					</span>
																					<span class="b-book-rating">
																						<img class="b-rating-img red" src="/resources/static/img/star.png" alt="별점"
																							style="height: 13px; margin-right: 2px; margin-bottom: 2px;">4.9
																						<span class="b-rating-cnt"
																							style="margin-left: 1px; color: #787878;">(12,996)</span>
																					</span>
																				</div>
																			</div>
																		</div>
																	</li>
																</ul>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div id="aside">
						<div class="side-bar">
							<div>
								<div class="side-banner">
									<a th:href="@{/}" class="side-banner-wrap">
										<img id="category-banner" alt="배너 이미지" class="banner-img" style="width: 100%;">
									</a>
								</div>
								<script th:inline="javascript">
									const bo_main_cate = [[${ book.bo_main_cate }]];
									// 카테고리에 따른 이미지 경로 설정
									const bannerSrcMap = {
										"로맨스": "/resources/static/banners/romance.png",
										"로판": "/resources/static/banners/romance_fantasy.png",
										"판타지": "/resources/static/banners/fantasy.png",
										"무협": "/resources/static/banners/oriental_fantasy.png"
									};

									const bannerImg = document.getElementById("category-banner");
									bannerImg.src = bannerSrcMap[bo_main_cate];
								</script>
								<div class="best-list-top10">
									<a th:href="@{/}" class="best-list-title">
										현대 판타지 베스트
										<img style="height: 9px; margin-left: 2px;" src="/resources/static/img/next.png" alt=">">
									</a>
									<ol class="best-list-ol">
										<li style="line-height: initial;">
											<a th:href="@{/}" class="b-list">
												<span class="b-list-title">이세계 착각 헌터</span>
											</a>
										</li>
									</ol>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="base_popup_and_spinner_wrapper">
			<div id="full_page_spinner">
				<div class="spinner-dimmed-bg"></div>
			</div>
			<div id="serial_popup">
				<div class="popup-wrapper serial-checkout-popup" id="serial_free_rent_coupon_popup">
					<div class="popup-header">
						<div class="header-title-wrapper">
							<div class="header-title">무료로 보기</div>
						</div>
						<div class="close-btn-wrapper">
							<button type="button" class="close-btn serial-checkout-popup-close-btn">
								<span class="indent-hidden">닫기</span>
								<img class="icon-close" src="/resources/static/img/X.png" alt="닫기" style="height: 20px;">
							</button>
						</div>
					</div>
					<div class="popup-body serial-checkout-wrapper">
						<div class="checkout-description">
							<p class="main-description checkout-book-title">이세계 착각 헌터 1화</p>
							<p class="rental-period">
								대여 기간 :
								<span class="rental-period-text">3</span>일
							</p>
						</div>
						<div class="checkout-btns">
							<div class="checkout-coupon">
								<label for="checkout-coupon-select" class="indent-hidden">이용권 선택</label>
								<select id="checkout_coupon_select" class="coupon-select free-rent-coupon-list" title="이용권 선택"
									style="border: none;">
									<option value="wait_free">기다리면 무료 (1장 남음)</option>
								</select>
								<div class="select-arrow">
									<img class="dark-gray" src="/resources/static/img/down-triangle.png" alt="펼치기" style="height: 9px;">
								</div>
							</div>
							<button type="button" class="orange-btn payment-free-rent-coupon">무료로 보기</button>
							<button type="button" class="text-button show-another-payment">
								다른 방법으로 결제
								<div class="icon-arrow-right">»</div>
							</button>
						</div>
					</div>
				</div>
				<div class="popup-wrapper serial-checkout-popup" id="serial_checkout_by_others_popup">
					<div class="popup-header">
						<div class="header-title-wrapper">
							<div class="header-title">결제하기</div>
						</div>
						<div class="close-btn-wrapper">
							<button type="button" class="close-btn">
								<span class="indent-hidden">닫기</span>
								<img class="icon-close" src="/resources/static/img/X.png" alt="닫기" style="height: 20px;">
							</button>
						</div>
					</div>
					<div class="popup-body">
						<div class="checkout-description">
							<p class="main-description">결제 가능한 키히포인트가 없습니다.</p>
							<p class="sub-description">키히포인트를 충전하고 결제없이 편하게 감상하세요.<br>포인트 적립 혜택도 놓치지 마세요!</p>
						</div>
						<div class="checkout-btns">
							<button type="button" class="orange-btn payment-charge-cash-and-payment-book">충전하고
								결제</button>
							<button type="button" class="white-btn payment-book">일반 결제</button>
						</div>
					</div>
				</div>
				<div class="popup-wrapper serial-checkout-popup" id="serial_checkout_point_popup">
					<div class="popup-header">
						<div class="header-title-wrapper">
							<div class="header-title">결제하기</div>
						</div>
						<div class="close-btn-wrapper">
							<button type="button" class="close-btn">
								<span class="indent-hidden">닫기</span>
								<img class="icon-close" src="/resources/static/img/X.png" alt="닫기" style="height: 20px;">
							</button>
						</div>
					</div>
					<div class="popup-body">
						<div class="checkout-description">
							<p class="main-description">이세계 착각 헌터 3화</p>
							<p class="checkout-price">결제 금액 :
								<span class="total-price">0</span>원
							</p>
							<ul class="point-list">
								<li class="kihi-point">키히포인트 사용:
									<strong>
										<span class="usable-point">0</span>원
									</strong>
									(<span class="user-kihi-point">0</span>원 보유)
								</li>
							</ul>
						</div>
						<div class="checkout-btns">
							<button type="button" class="orange-btn payment-book-point-immediate-view">결제하고
								바로보기</button>
							<button type="button" class="white-btn payment-book-point">결제하고 다음에 보기</button>
						</div>
					</div>
				</div>
				<div class="popup-wrapper serial-checkout-popup" id="already_exists_popup">
					<div class="popup-header">
						<div class="header-title-wrapper">
							<div class="header-title">결제하기</div>
						</div>
						<div class="close-btn-wrapper">
							<button type="button" class="close-btn">
								<span class="indent-hidden">닫기</span>
								<img class="icon-close" src="/resources/static/img/X.png" alt="닫기" height="20px">
							</button>
						</div>
					</div>
					<div class="popup-body">
						<div class="checkout-description">
							<p class="main-description">이미 구매한 작품입니다.</p>
						</div>
						<div class="checkout-btns">
							<button type="button" class="orange-btn serial-book-direct-view-btn">보기</button>
							<button type="button" class="white-btn serial-checkout-popup-close-btn">닫기</button>
						</div>
					</div>
				</div>
				<div class="popup-wrapper serial-checkout-popup" id="expired_next_popup">
					<div class="popup-header">
						<div class="header-title-wrapper">
							<div class="header-title">이어보기</div>
						</div>
						<div class="close-btn-wrapper">
							<button type="button" class="close-btn">
								<span class="indent-hidden">닫기</span>
								<img class="icon-close" src="/resources/static/img/X.png" alt="닫기" style="height: 20px;">
							</button>
						</div>
					</div>
					<div class="popup-body">
						<div class="checkout-description">
							<p class="main-description">작품 제목</p>
							<p class="sub-description">
								대여기간이 만료되었습니다.<br>다음화를 보시겠습니까?
							</p>
						</div>
						<div class="checkout-btns">
							<button type="button" class="orange-btn next-epi-btn">다음화 보기</button>
							<button type="button" class="white-btn re-view-btn">다시 보기</button>
						</div>
					</div>
				</div>
				<div class="popup-wrapper serial-checkout-popup" id="serial_free_rent_success_popup">
					<div class="popup-header">
						<div class="header-title-wrapper">
							<div class="header-title">무료이용권</div>
						</div>
						<div class="close-btn-wrapper">
							<button type="button" class="close-btn serial-checkout-popup-close-btn">
								<span class="indent-hidden">닫기</span>
								<img src="/resources/static/img/X.png" alt="닫기" class="icon-close" style="height: 20px;">
							</button>
						</div>
					</div>
					<div class="popup-body">
						<div class="checkout-description">
							<p class="main-description">
								무료이용권으로
								<br>
								총
								<span class="free-pass-coupon-applied-books-cnt">0</span>
								<span class="book-unit">화</span>
								대여 완료했습니다.
							</p>
							<p class="left-books-cnt">
								남은 작품 :
								<strong>
									총
									<span class="remain-book-cnt-for-purchase">0</span>
									<span class="book-unit">화</span>
								</strong>
								(<span class="remain-books-price-for-purchase">100</span>원)
							</p>
						</div>
						<div class="checkout-btns">
							<button type="button" class="orange-btn checkout-left-books">남은 작품 결제하기</button>
							<button type="button" class="white-btn view-free-rent-book">대여한 작품 바로보기</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<script>
			const stars = document.querySelectorAll('.record-star label');

			stars.forEach((star, index) => {
				star.addEventListener('click', () => {
					stars.forEach(s => s.querySelector('img').classList.remove('selected'));

					for (let i = index; i < stars.length; i++) {
						stars[i].querySelector('img').classList.add('selected');
					}
				});
			});

			const starRadios = document.querySelectorAll('input[name="rating"]');
			const recordStarText = document.querySelector('.record-star-text');
			const recordedTextWrap = document.querySelector('.recorded-text-wrap');
			const recordedStar = document.querySelector('.recorded-star');
			const cancelBtn = document.querySelector('.cancel-rating-btn');

			// 별 클릭 시
			starRadios.forEach(radio => {
				radio.addEventListener('change', function () {
					const value = parseInt(this.value, 10);
					const displayValue = (value / 2).toFixed(1);
					recordedStar.textContent = displayValue;

					recordStarText.style.display = 'none';
					recordedTextWrap.style.display = 'flex'; // flex or block depending on your layout
				});
			});

			// 취소 버튼 클릭 시
			cancelBtn.addEventListener('click', function () {
				// 별점 선택 해제
				starRadios.forEach(radio => radio.checked = false);

				// selected 클래스 제거
				stars.forEach(star => {
					star.querySelector('img').classList.remove('selected');
				});

				recordedTextWrap.style.display = 'none';
				recordStarText.style.display = 'block';
			});

			document.addEventListener("DOMContentLoaded", function () {
				const ratingLabel = document.querySelector(".rating-bunpo");
				const bunpoTable = document.querySelector(".bunpo-table");
				const bunpoIcon = document.getElementById("bunpo_table_icon");

				ratingLabel.addEventListener("click", function (e) {
					if (e.target.classList.contains("bunpo-check")) return;

					if (bunpoTable.classList.contains("none")) {
						// none이 있으면 -> 보이게
						bunpoTable.classList.remove("none");
						bunpoIcon.src = "/resources/static/img/up-triangle.png";
						bunpoIcon.alt = "위 삼각형";
					} else {
						// none이 없으면 -> 숨기기
						bunpoTable.classList.add("none");
						bunpoIcon.src = "/resources/static/img/down-triangle.png";
						bunpoIcon.alt = "아래 삼각형";
					}
				});

				const notiTitle = document.querySelector(".noti-title");
				const notiContent = document.querySelector(".noti-content");
				const notiIcon = document.getElementById("noti_icon")

				notiTitle.addEventListener("click", function () {
					if (notiContent.classList.contains("none")) {
						notiContent.classList.remove("none");
						notiIcon.src = "/resources/static/img/fold.png";
						notiIcon.alt = "접기";
					} else {
						notiContent.classList.add("none");
						notiIcon.src = "/resources/static/img/expand.png";
						notiIcon.alt = "펼치기";
					}
				})

				const noteCheckLabel = document.querySelector(".note-check-label");
				const noteContent = document.querySelector(".note-content");
				const noteIcon = document.getElementById("note_icon")

				noteCheckLabel.addEventListener("click", function () {
					if (noteContent.classList.contains("none")) {
						noteContent.classList.remove("none");
						noteIcon.src = "/resources/static/img/fold.png";
						noteIcon.alt = "접기";
					} else {
						noteContent.classList.add("none");
						noteIcon.src = "/resources/static/img/expand.png";
						noteIcon.alt = "펼치기";
					}
				})

				// 회차 목록 체크 박스 선택 관련
				const selectAllCheckbox = document.getElementById("select_all");
				const episodeCheckboxes = document.querySelectorAll(".episode-check");

				selectAllCheckbox.addEventListener("change", function () {
					const isChecked = selectAllCheckbox.checked;
					episodeCheckboxes.forEach(checkbox => {
						checkbox.checked = isChecked;
					});
				});

				episodeCheckboxes.forEach(checkbox => {
					checkbox.addEventListener("change", function () {
						const allChecked = Array.from(episodeCheckboxes).every(cb => cb.checked);
						selectAllCheckbox.checked = allChecked;
					});
				});

			});

			// 스포일러 댓글 -> 리뷰 보기 클릭 시
			const spoilerButtons = document.querySelectorAll('.spoiler-view-btn');

			spoilerButtons.forEach(button => {
				button.addEventListener('click', function () {
					const rvContent = this.closest('.rv-content-spoiler').previousElementSibling;
					const rvSpoiler = this.closest('.rv-content-spoiler');

					if (rvContent && rvSpoiler) {
						rvContent.removeAttribute('hidden');
						rvSpoiler.setAttribute('hidden', 'true');
					}
				});
			});

			function clickSortBtn(btn) {
				const sortText = btn.querySelector('.sort-text');
				const currentText = sortText.textContent.trim();
				sortText.textContent = currentText === '신간부터' ? '1권부터' : '신간부터';
			};

			const textarea = document.querySelector('.rv-textarea');
			const submitBtn = document.querySelector('.rv-regist-btn');

			textarea.addEventListener('input', () => {
				const textLength = textarea.value.trim().length;
				if (textLength >= 10) {
					submitBtn.style.backgroundColor = '#ff7f50'; // 변경될 색
					submitBtn.disabled = false;
				} else {
					submitBtn.style.backgroundColor = '#ccc'; // 기본색
					submitBtn.disabled = true;
				}
			});

			const dimmed = document.getElementById('full_page_spinner');
			const freePopup = document.getElementById('serial_free_rent_coupon_popup');
			const otherPopup = document.getElementById('serial_checkout_by_others_popup');

			// 소장 버튼 클릭 시 팝업 열기
			// 1. 기존 결제 여부 체크 : 소장-기결제 팝업 | 대여만료-대여만료팝업
			// 2. 키다무O: 무료이용권팝업 | 키다무X: 포인트결제
			// 아래는 일단 무료이용권팝업만 무조건 뜨는 스크립트 코드
			document.querySelectorAll('.buy-book-btn').forEach(btn => {
				btn.addEventListener('click', function (e) {
					e.preventDefault();
					freePopup.classList.add('active');
					dimmed.classList.add('active');
				});
			});

			// 무료이용권팝업 -> "다른 방법으로 결제" 버튼 클릭 시 다른 방법으로 결제 팝업 오픈
			document.querySelector('.show-another-payment')?.addEventListener('click', function () {
				freePopup.classList.remove('active');
				otherPopup.classList.add('active');
				dimmed.classList.add('active');
			});

			// 모든 팝업 닫기 버튼 동작
			document.querySelectorAll('.close-btn').forEach(btn => {
				btn.addEventListener('click', function () {
					document.querySelectorAll('.popup-wrapper').forEach(popup => {
						popup.classList.remove('active');
					});
					dimmed.classList.remove('active');
				});
			});
		</script>
	</main>
</body>

</html>